/*
 * Copyright 2017 Palantir Technologies, Inc. All rights reserved.
 * Licensed under the BSD-3 License as modified (the “License”); you may obtain a copy
 * of the license at https://github.com/palantir/blueprint/blob/master/LICENSE
 * and https://github.com/palantir/blueprint/blob/master/PATENTS
 */

@import "~@blueprintjs/core/src/common/variables";
@import "~@blueprintjs/core/src/components/forms/common";
@import "~@blueprintjs/core/src/components/tag/common";

$select-popover-max-height: $pt-grid-size * 20 !default;
$select-popover-max-width: $pt-grid-size * 40 !default;

.pt-select-popover {
  .pt-popover-content {
    // use padding on container rather than margin on input group
    // because top margin leaves some empty space with no background color.
    padding: $pt-grid-size / 2;
  }

  .pt-input-group {
    margin-bottom: 0;
  }

  .pt-menu {
    max-width: $select-popover-max-width;
    max-height: $select-popover-max-height;
    overflow: auto;
    padding: 0;

    &:not(:first-child) {
      // adjust padding to account for that on .pt-popover-content above
      padding-top: $pt-grid-size / 2;
    }
  }
}

$input-padding: ($pt-input-height - $tag-height) / 2;

.pt-tag-input {
  display: flex;
  flex-wrap: wrap;
  cursor: text;
  height: auto;
  padding: $input-padding 0 0 $input-padding;

  .pt-tag {
    margin: 0 $input-padding $input-padding 0;
  }

  .pt-input-invisible {
    // input fills remaining line
    flex: 1 1 auto;
    margin-bottom: $input-padding;
    // essentially a min-width, cuz flex allows it to grow or shrink:
    width: $pt-grid-size * 10;
    line-height: $tag-height;
  }

  &.pt-large {
    height: auto;
  }

  &.pt-active {
    box-shadow: input-transition-shadow($input-shadow-color-focus, true), $input-box-shadow-focus;
    background-color: $input-background-color;
  }
}

.pt-input-invisible {
  // reset browser input styles (we're using an input solely because you can type in it)
  border: none;
  box-shadow: none;
  background: none;
  // width: 100%;
  padding: 0;
}
